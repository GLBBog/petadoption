<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title></title>

        <!-- Backbone --> 
		<script src="/lib/jquery-1.7.2.min.js"></script>
		<script src="/lib/underscore-min.js"></script>

        <script src="/lib/backbone-min.js"></script>
        <script src="/lib/bootstrap.js"></script>
        <script src="/lib/backbone.localStorage-min.js"></script>

        <!--http://documentcloud.github.io/underscore/underscore.js-->
    </head>
    <body>

        <script src="/backbone/router.js"></script>
        <script src="/backbone/views/ListPetView.js"></script>

        <script type="text/javascript">

            var Note = Backbone.Model.extend({
                defaults: {
                    id: null,
                    content: "Note created on " + new Date().toISOString(),
                    name: ""
                }
                /*defaults: function () {
                return {
                content: "Note created on " + new Date().toISOString()
                }
                }*/
            });
            var NoteCollection = Backbone.Collection.extend({
                model: Note,
                localStorage: new Backbone.LocalStorage("PetList")
            });

            $.getJSON('./data/jdata.json')
                                        .done(function (data) {
                                            var myNotes = new NoteCollection();
                                            myNotes.fetch();
                                            if (!myNotes.length > 0) {
                                                for (var i = 0; i < data.length; i++) {
                                                    var note1 = new Note()
                                                    note1.attributes = data[i];
                                                    myNotes.add(note1);
                                                    note1.save();
                                                }
                                            }
                                        });
            

            var myNotes = new NoteCollection();
            myNotes.fetch();

            //var viewmodel = new viewModel({ el: 'div', model: myNotes });
            //viewmodel.render();

            $("#content").html(new ListPetView({ model: myNotes }).el);

        </script>

        Type content : <input type="text" id="contentInput" /><a href="#add">click me!</a>

        <div id="content">
        </div>

        
    </body>
</html>
